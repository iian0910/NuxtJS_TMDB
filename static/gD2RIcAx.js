import{_ as b}from"./DJWCtmA-.js";import{i as x,t as i,v as r,x as n,O as y,P as k,S as w,y as C,M as u,r as P,u as N,o as $,z as m}from"./CeMCCeV8.js";import{g as f,T as B}from"./Bk0OIp-F.js";const T={"aria-label":"Page navigation example"},L={class:"pagination"},M=n("span",{"aria-hidden":"true"},"«",-1),q=[M],z=["onClick"],D=n("span",{"aria-hidden":"true"},"»",-1),S=[D],V={__name:"Pagination",props:{listPage:{type:Number,required:!0},currentPage:{type:Number,required:!0}},emits:["update:page"],setup(p,{emit:l}){const t=p,o=l,c=x(()=>{const a=[];if(t.listPage<=7)for(let e=1;e<t.listPage;e++)a.push(e);else if(t.currentPage<=4){for(let e=1;e<5;e++)a.push(e);a.push("..."),a.push(t.listPage)}else if(t.currentPage>=t.listPage-3){a.push(1),a.push("...");for(let e=t.listPage-4;e<=t.listPage;e++)a.push(e)}else{a.push(1),a.push("...");for(let e=t.currentPage-1;e<=t.currentPage+1;e++)a.push(e);a.push("..."),a.push(t.listPage)}return a}),g=()=>{t.currentPage>1&&o("update:page",t.currentPage-1)},d=()=>{t.currentPage<t.listPage&&o("update:page",t.currentPage+1)},_=a=>{o("update:page",a)};return(a,e)=>(i(),r("nav",T,[n("ul",L,[n("li",{class:"page-item"},[n("a",{class:"page-link",onClick:g,"aria-label":"Previous"},q)]),(i(!0),r(y,null,k(u(c),s=>(i(),r("li",{class:w(["page-item",{active:p.currentPage===s,disabled:s==="..."}]),key:s},[n("a",{class:"page-link",onClick:h=>_(s)},C(s),9,z)],2))),128)),n("li",{class:"page-item"},[n("a",{class:"page-link",onClick:d,"aria-label":"Next"},S)])])]))}},A={class:"container"},E={class:"row"},R={__name:"nowPlay",setup(p){const l=P(),t=P(),o=P(),c=N();$(()=>{g()});const g=async()=>{const e=await f("/movie/now_playing");l.value=e.results,t.value=e.total_pages,o.value=e.page},d=e=>{c.push({name:"detail-id",params:{id:e}})},_=async e=>{const s=await f(`/movie/now_playing&page=${e}`);l.value=s.results,t.value=s.total_pages,o.value=s.page},a=()=>{c.push({name:"index",path:"/"})};return(e,s)=>{const h=b;return i(),r("div",A,[n("button",{type:"button",class:"btn btn-outline-danger btn-sm my-3",onClick:a}," 回首頁 "),n("div",E,[m(B,{text:"現正熱映"}),(i(!0),r(y,null,k(u(l),v=>(i(),r("div",{class:"col-12 col-sm-6 col-lg-2 cursor-pointer mb-3",key:v.id},[m(h,{movie:v,onDetail:d},null,8,["movie"])]))),128))]),m(V,{listPage:u(t),currentPage:u(o),"onUpdate:page":_},null,8,["listPage","currentPage"])])}}};export{R as default};
